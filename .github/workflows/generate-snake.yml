name: Generate contribution-snake

on:
  schedule:
    - cron: '0 */6 * * *'   # every 6 hours; change as you like
  workflow_dispatch:        # allows manual runs from Actions tab
  push:
    branches:
      - main

jobs:
  generate:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Generate snake animation
        uses: Platane/snk@v3
        with:
          # who to read contributions from; repository owner is handy
          github_user_name: ${{ github.repository_owner }}
          # output path inside the repo
          output: 'output/github-contribution-grid-snake.svg'
          # look & feel (examples: github, github-dark, github-light)
          background: 'github-dark'
          # optional: change snake color (hex)
          snake_color: '#00FF9D'
          # optional format: svg or gif
          format: 'svg'

      - name: Commit generated file
        uses: stefanzweifel/git-auto-commit-action@v4
        with:
          commit_message: "chore: update contribution snake"
          file_pattern: output/**
